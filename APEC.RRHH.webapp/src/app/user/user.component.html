<div class="container-fluid">
    <div class="row">
        <div class="col-lg-4 col-md-5">
            <div *ngIf="!isDataLoading" class="card card-user">
                <div class="image">
                    <img src="assets/img/background.jpg" alt="..." />
                </div>
                <div class="content">
                    <div class="author">
                        <img class="avatar border-white" src="assets/img/faces/face-2.jpg" alt="..." />
                        <h4 class="title">{{user.fullName}}</h4>
                    </div>
                </div>
                <hr>
                <div class="text-center">
                    <div class="row">
                        <div class="col-md-3 col-md-offset-1">
                            <h5>{{userCompetences}}<br /><small>Competencias</small></h5>
                        </div>
                        <div class="col-md-4">
                            <h5>{{userPreparations}}<br /><small>Preparaciones</small></h5>
                        </div>
                        <div class="col-md-3">
                            <h5>{{userLanguages}}<br /><small>Idiomas</small></h5>
                        </div>
                    </div>
                </div>
            </div>

            <div class="text-center">
                <button (click)="updateUser()" type="submit" class="btn btn-info btn-fill btn-wd">Actualizar perfil</button>
            </div>
            <div class="clearfix"></div>
        </div>
        <div class="col-lg-8 col-md-7">
            <nz-card [nzLoading]="isDataLoading">
                <div class="header">
                    <h4 class="title">Editar perfil</h4>
                </div>
                <div class="content">
                    <form nz-form nzLayout="vertical" [formGroup]="updateUserForm">
                        <nz-form-item>
                            <nz-form-label [nzSpan]="8" nzRequired>
                                Nombre
                            </nz-form-label>
                            <nz-form-control [nzSpan]="14">
                                <input type="text" nz-input formControlName="name" placeholder="Nombre">
                            </nz-form-control>
                        </nz-form-item>
                        <nz-form-item>
                            <nz-form-label [nzSpan]="8" nzRequired>
                                Apellido
                            </nz-form-label>
                            <nz-form-control [nzSpan]="30" [nzSm]="14" [nzXs]="26">
                                <input type="text" nz-input formControlName="lastName" placeholder="Apellido">
                            </nz-form-control>
                        </nz-form-item>
                        <nz-form-item>
                            <nz-form-label [nzSpan]="8" nzRequired>
                                Correo electronico
                            </nz-form-label>
                            <nz-form-control [nzSpan]="30" [nzSm]="14" [nzXs]="26">
                                <input type="text" nz-input formControlName="email" placeholder="Correo electronico">
                            </nz-form-control>
                        </nz-form-item>
                        <nz-form-item>
                            <nz-form-label [nzSpan]="8" nzRequired>
                                Contrase単a
                            </nz-form-label>
                            <nz-form-control [nzSpan]="30" [nzSm]="14" [nzXs]="26">
                                <input type="password" nz-input formControlName="password" placeholder="Contrase単a">
                            </nz-form-control>
                        </nz-form-item>
                        <nz-form-item>
                            <nz-form-label [nzSpan]="8" nzRequired>
                                Confirmacion Contrase単a
                            </nz-form-label>
                            <nz-form-control [nzSpan]="30" [nzSm]="14" [nzXs]="26">
                                <input type="password" nz-input formControlName="passwordConfirmation" placeholder="Repetir contrase単a">
                            </nz-form-control>
                        </nz-form-item>
                        <nz-form-item>
                            <div>
                                <nz-form-label [nzSpan]="8" nzRequired>
                                    Tipo de identificacion
                                </nz-form-label>
                                <nz-form-control [nzSpan]="14">
                                    <nz-select nzPlaceHolder="Seleccione un tipo de identificacion" formControlName="identificationType">
                                        <nz-option nzValue="2" nzLabel="Identificacion electoral"></nz-option>
                                        <nz-option nzValue="1" nzLabel="Pasaporte"></nz-option>
                                    </nz-select>
                                </nz-form-control>
                            </div>
                        </nz-form-item>
                        <nz-form-item>
                            <nz-form-label [nzSpan]="8" nzRequired>
                                Identificacion
                            </nz-form-label>
                            <nz-form-control [nzSpan]="14">
                                <input type="number" nz-input min="0" placeholder="Identificacion" formControlName="identification" />
                            </nz-form-control>
                        </nz-form-item>
                        <nz-form-item>
                            <nz-form-label [nzSpan]="8" nzRequired>
                                Fecha de nacimiento
                            </nz-form-label>
                            <nz-form-control [nzSpan]="14">
                                <input type="date" nz-input min="0" placeholder="Fecha de nacimiento" formControlName="birthdate" />
                            </nz-form-control>
                        </nz-form-item>

                        <nz-form-item>
                            <nz-form-label [nzSpan]="8" nzRequired>
                                Competencias
                            </nz-form-label>
                            <nz-form-control [nzSpan]="14">
                                <nz-select nzMode="multiple" nzPlaceHolder="Seleccione las competencias"
                                    formControlName="competences">
                                    <nz-option *ngFor="let competence of competences" [nzLabel]="competence.description"
                                        [nzValue]="competence.id"></nz-option>
                                </nz-select>
                            </nz-form-control>
                        </nz-form-item>
                        <nz-form-item>
                            <div>
                                <nz-form-label [nzSpan]="8" nzRequired>
                                    Idiomas manejados
                                </nz-form-label>
                                <nz-form-control [nzSpan]="14">
                                    <nz-select nzMode="multiple" nzPlaceHolder="Seleccione los idiomas" formControlName="languages">
                                        <nz-option *ngFor="let language of languages" [nzLabel]="language.name"
                                            [nzValue]="language.id"></nz-option>
                                    </nz-select>
                                </nz-form-control>
                            </div>
                        </nz-form-item>
                    </form>
                </div>
            </nz-card>
        </div>
    </div>
    <div class="container-fluid" style="margin-top: 1em;">
        <div class="row">
            <app-preparation [preparations]="preparations"></app-preparation>
        </div>
    </div>

    <div class="container-fluid" style="margin-top: 1em;">
        <div class="row">
            <app-work-experiences [workExperiences]="workExperiences"></app-work-experiences>
        </div>

    </div>